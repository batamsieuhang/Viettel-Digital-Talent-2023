---
- name: install configure package
  hosts: all
  become: true
  gather_facts: true
  roles:
    - common

- name: install client tool
  hosts: localhost
  become: true
  gather_facts: true
  roles:
    - client-tool

- name: generate CA, key and data encryption file
  hosts: localhost
  become: true
  gather_facts: true
  roles:
    - certificate-authority
    - kube-config
    - data-encryption-config